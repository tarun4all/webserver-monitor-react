{"ast":null,"code":"var _jsxFileName = \"/home/tarun/Desktop/employement test/frontend/reactview/src/components/login.js\";\nimport React, { Component } from 'react';\nimport { Input, Button, Card, Select, Alert } from 'antd';\nimport $ from \"jquery\";\nimport 'antd/dist/antd.css';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.customAjax = (url, params) => {\n      $.ajax({\n        type: \"GET\",\n        url: url,\n        dataType: 'json',\n        data: params,\n        success: json => {\n          if (json.msg == 'OTP Sent') {\n            this.setState({\n              otpWait: true\n            });\n          } else if (json.msg == 'loginDone') {\n            this.setState({\n              login: true\n            });\n          }\n        }\n      });\n    };\n\n    this.login = () => {\n      if (!document.getElementById('email')) {\n        alert(\"Enter email or phone\");\n      } else {\n        this.customAjax('http://localhost:5000/api/login', {\n          contact: document.getElementById('email').value\n        });\n      }\n    };\n\n    this.verifyOTP = () => {\n      if (!document.getElementById('otp')) {\n        alert(\"Enter otp\");\n      } else {\n        this.customAjax('http://localhost:5000/api/verifyOTP', {\n          contact: document.getElementById('otp').value\n        });\n      }\n    };\n\n    this.state = {\n      otp: '',\n      otpWait: false,\n      login: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        \"textAlign\": \"center\",\n        \"width\": '70%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, this.state.login ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"logged in\") : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        width: '100%',\n        \"marginTop\": '10%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        \"textAlign\": \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Input, {\n      id: \"email\",\n      placeholder: \"Enter Email or Phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), !this.state.otpWait ? React.createElement(Button, {\n      type: \"primary\",\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Send OTP\") : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Input, {\n      id: \"otp\",\n      placeholder: \"Enter otp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"primary\",\n      onClick: this.verifyOTP,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Login\")))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/tarun/Desktop/employement test/frontend/reactview/src/components/login.js"],"names":["React","Component","Input","Button","Card","Select","Alert","$","Login","constructor","customAjax","url","params","ajax","type","dataType","data","success","json","msg","setState","otpWait","login","document","getElementById","alert","contact","value","verifyOTP","state","otp","render","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Input, Button, Card, Select, Alert } from 'antd';\nimport $ from \"jquery\";\nimport 'antd/dist/antd.css';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n        otp: '',\n        otpWait: false,\n        login: false,\n    };\n  }\n\n  customAjax = (url, params) => {\n    $.ajax({\n        type: \"GET\",\n        url: url,\n        dataType: 'json',\n        data: params,\n        success: (json) => {\n            if(json.msg == 'OTP Sent') {\n                this.setState({\n                    otpWait: true,\n                })\n            } else if(json.msg == 'loginDone') {\n                this.setState({\n                    login: true,\n                })\n            }\n        }\n    });\n  }\n\n  login = () => {\n    if(!document.getElementById('email')) {\n        alert(\"Enter email or phone\");\n    } else {\n        this.customAjax('http://localhost:5000/api/login', {\n            contact: document.getElementById('email').value,\n        });\n    }\n  }\n\n  verifyOTP = () => {\n    if(!document.getElementById('otp')) {\n        alert(\"Enter otp\");\n    } else {\n        this.customAjax('http://localhost:5000/api/verifyOTP', {\n            contact: document.getElementById('otp').value,\n        });\n    }\n  }\n\n  render() {\n    return (\n       <div style={{\"textAlign\": \"center\", \"width\": '70%'}}>\n            <center>\n                {this.state.login ? <p>logged in</p> :\n                    <div>\n                        <Card style={{ width: '100%', \"marginTop\":'10%' }}>\n                            <div style={{\"textAlign\": \"center\"}}>\n                                <Input id=\"email\" placeholder=\"Enter Email or Phone\" />\n                                {!this.state.otpWait ? <Button type=\"primary\" onClick={this.login}>Send OTP</Button> : \n                                    <div>\n                                        <Input id=\"otp\" placeholder=\"Enter otp\" />\n                                        <Button type=\"primary\" onClick={this.verifyOTP}>Login</Button>\n                                    </div>\n                                }\n                            </div>\n                        </Card>\n                    </div>\n                }\n            </center>\n       </div>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}